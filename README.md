# Matrix Dendrite Setup üöÄ

–ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Matrix Dendrite —Å–µ—Ä–≤–µ—Ä–∞ –∑ –º–æ—Å—Ç–∞–º–∏, –≤–µ–± –¥–∞—à–±–æ—Ä–¥–æ–º —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —Ä–µ–∑–µ—Ä–≤–Ω–∏–º –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è–º.

## üåü –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **Matrix Dendrite** - –ª–µ–≥–∫–æ–≤—ñ—Å–Ω–∏–π Matrix —Å–µ—Ä–≤–µ—Ä
- **–ú–æ—Å—Ç–∏** - Signal, WhatsApp, Discord
- **–í–µ–± –¥–∞—à–±–æ—Ä–¥** - –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏–π –ø–∞–Ω–µ–ª—å –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±–µ–∫–∞–ø–∏** - –∑ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º —á–µ—Ä–µ–∑ –≤–µ–± —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å** - Matrix –±–æ—Ç –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
- **Docker Compose** - –ø—Ä–æ—Å—Ç–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- **SSL/TLS** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ Cloudflare Tunnel

## üìã –í–∏–º–æ–≥–∏

- Linux (Ubuntu 20.04+ / Debian 11+)
- Docker —Ç–∞ Docker Compose
- –ú—ñ–Ω—ñ–º—É–º 2GB RAM
- 10GB –≤—ñ–ª—å–Ω–æ–≥–æ –º—ñ—Å—Ü—è
- –î–æ–º–µ–Ω (–¥–ª—è Cloudflare Tunnel)

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–º–æ–≥–∏
- Docker —Ç–∞ Docker Compose
- Git
- Bash

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
git clone https://github.com/your-username/matrix-dendrite-setup.git
cd matrix-dendrite-setup

# –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
cp env.example .env

# –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
nano .env

# –ó–∞–ø—É—Å–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
bash scripts/install.sh
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≥–æ—Ç–æ–≤–∏—Ö Docker –æ–±—Ä–∞–∑—ñ–≤

–î–ª—è —à–≤–∏–¥—à–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≥–æ—Ç–æ–≤—ñ Docker –æ–±—Ä–∞–∑–∏:

```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ docker-compose.yml
# –ó–∞–º—ñ—Å—Ç—å build: ./dashboard/admin-panel
image: morkon06/matrix-dendrite-setup-admin-panel:latest

# –ó–∞–º—ñ—Å—Ç—å build: ./config/bot  
image: morkon06/matrix-dendrite-setup-matrix-bot:latest
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GitHub –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –∑–±—ñ—Ä–∫–∏

1. **–î–æ–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–∏ –≤ GitHub:**
   - `DOCKER_USERNAME` - –≤–∞—à Docker Hub username
   - `DOCKER_PASSWORD` - –≤–∞—à Docker Hub access token

2. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ–≥ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –∑–±—ñ—Ä–∫–∏:**
   ```bash
   git tag v1.0.1
   git push origin v1.0.1
   ```

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤ GitHub Actions**

–î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó: [docs/GITHUB_SETUP.md](docs/GITHUB_SETUP.md)

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –≤ [Docker Images Guide](docs/DOCKER_IMAGES.md).

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
matrix-dendrite-setup/
‚îú‚îÄ‚îÄ docker-compose.yml          # –û—Å–Ω–æ–≤–Ω–∏–π compose —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ .env.example               # –ü—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ install.sh             # –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —ñ–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ backup.sh              # –°–∫—Ä–∏–ø—Ç –±–µ–∫–∞–ø—É
‚îÇ   ‚îî‚îÄ‚îÄ restore.sh             # –°–∫—Ä–∏–ø—Ç –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
‚îú‚îÄ‚îÄ config/                    # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ dashboard/                 # –í–µ–± –¥–∞—à–±–æ—Ä–¥ —Ç–∞ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ docs/                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ backup/                    # –°—Ö–æ–≤–∏—â–µ –±–µ–∫–∞–ø—ñ–≤
```

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### Core Services
- **Dendrite** - Matrix —Å–µ—Ä–≤–µ—Ä
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Redis** - –∫–µ—à

### Bridges
- **mautrix-signal** - Signal –º—ñ—Å—Ç
- **mautrix-whatsapp** - WhatsApp –º—ñ—Å—Ç  
- **mautrix-discord** - Discord –º—ñ—Å—Ç

### Monitoring & Management
- **Grafana** - –º–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –¥–∞—à–±–æ—Ä–¥–∏
- **Prometheus** - –∑–±—ñ—Ä –º–µ—Ç—Ä–∏–∫
- **Admin Panel** - –≤–µ–± —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- **Matrix Bot** - —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### Web Interface
- **Element Web** - –≤–µ–± –∫–ª—ñ—î–Ω—Ç
- **Nginx** - reverse proxy

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

- –í–µ–± –¥–∞—à–±–æ—Ä–¥ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: `http://your-domain/admin`
- Grafana –º–µ—Ç—Ä–∏–∫–∏: `http://your-domain/grafana`
- Element Web –∫–ª—ñ—î–Ω—Ç: `http://your-domain`

## üîí –ë–µ–∑–ø–µ–∫–∞

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ —á–µ—Ä–µ–∑ Cloudflare
- –Ü–∑–æ–ª—å–æ–≤–∞–Ω—ñ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
- –†–µ–≥—É–ª—è—Ä–Ω—ñ –±–µ–∫–∞–ø–∏ –∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–ø–µ–∫–∏

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- [–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](docs/INSTALL.md)
- [–ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è](docs/TROUBLESHOOTING.md)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](docs/API.md)

## ü§ù –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [FAQ](docs/FAQ.md)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å [Issue](https://github.com/Karnemorkon/matrix-dendrite-setup/issues)
3. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó](docs/)

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –¥–∏–≤—ñ—Ç—å—Å—è [LICENSE](LICENSE) —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## Matrix-–±–æ—Ç –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–æ–º

Matrix-–±–æ—Ç –¥–æ–∑–≤–æ–ª—è—î –∫–µ—Ä—É–≤–∞—Ç–∏ —Å–µ—Ä–≤–µ—Ä–æ–º, –º–æ—Å—Ç–∞–º–∏, –±–µ–∫–∞–ø–∞–º–∏, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–∏ —É Matrix-–∫—ñ–º–Ω–∞—Ç—ñ.

### –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:
- –ü–µ—Ä–µ–≥–ª—è–¥ —Å—Ç–∞—Ç—É—Å—É —Å–µ—Ä–≤—ñ—Å—ñ–≤: `/status`
- –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤: `/logs <service> [lines]`
- –ó–∞–ø—É—Å–∫/–∑—É–ø–∏–Ω–∫–∞/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—É: `/start <service>`, `/stop <service>`, `/restart <service>`
- –ö–µ—Ä—É–≤–∞–Ω–Ω—è –±–µ–∫–∞–ø–∞–º–∏: `/backup create`, `/backup list`, `/backup restore <name>`
- –ö–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏: `/user create <username> <password>`, `/user list`, `/user delete <username>`
- –°—Ç–∞—Ç—É—Å –º–æ—Å—Ç—ñ–≤: `/bridges status`, `/bridges restart <name>`
- Healthcheck: `/health`
- –î–æ–≤—ñ–¥–∫–∞: `/help`

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
```
/status
/restart dendrite
/logs postgres 50
/backup create
/user create john password123
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è –¥–ª—è –±–æ—Ç–∞
–î–æ–¥–∞–π—Ç–µ —É `.env`:
```
MATRIX_BOT_USERNAME=system-bot
MATRIX_BOT_PASSWORD=your-bot-password
MATRIX_BOT_ROOM_ID=!yourroomid:yourdomain
```

### –ë–µ–∑–ø–µ–∫–∞
- –ë–æ—Ç —Ä–µ–∞–≥—É—î –ª–∏—à–µ —É –≤–∫–∞–∑–∞–Ω—ñ–π –∫—ñ–º–Ω–∞—Ç—ñ (MATRIX_BOT_ROOM_ID)
- –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ whitelist –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —É bot.py
- –í—Å—ñ –¥—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è —É audit log

### –ó–∞–ø—É—Å–∫
–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —á–µ—Ä–µ–∑ docker-compose. –î–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É:
```
cd config/bot
python3 bot.py
```

---
–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –¥–∏–≤. —É —Ä–æ–∑–¥—ñ–ª—ñ "–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å —Ç–∞ –±–æ—Ç".

‚≠ê –Ø–∫—â–æ –ø—Ä–æ–µ–∫—Ç –≤–∞–º —Å–ø–æ–¥–æ–±–∞–≤—Å—è, –ø–æ—Å—Ç–∞–≤—Ç–µ –∑—ñ—Ä–∫—É! 